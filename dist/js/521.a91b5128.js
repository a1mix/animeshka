"use strict";(self["webpackChunkanistream"]=self["webpackChunkanistream"]||[]).push([[521],{8054:function(e,i,a){a.d(i,{Z:function(){return I}});var s=a(3396),t=a(7139);const n=e=>((0,s.dD)("data-v-a4634156"),e=e(),(0,s.Cn)(),e),r={class:"container"},l=["src"],o={class:"info"},d={class:"rating"},c={fill:"#ffffff",viewBox:"0 0 64 64",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","xml:space":"preserve","xmlns:serif":"http://www.serif.com/",style:{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"},stroke:"#ffffff"},m=n((()=>(0,s._)("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"},null,-1))),g=n((()=>(0,s._)("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"},null,-1))),u=n((()=>(0,s._)("g",{id:"SVGRepo_iconCarrier"},[(0,s._)("rect",{id:"Icons",x:"-512",y:"-192",width:"1280",height:"800",style:{fill:"none"}}),(0,s._)("g",{id:"Icons1","serif:id":"Icons"},[(0,s._)("g",{id:"Strike"}),(0,s._)("g",{id:"H1"}),(0,s._)("g",{id:"H2"}),(0,s._)("g",{id:"H3"}),(0,s._)("g",{id:"list-ul"}),(0,s._)("g",{id:"hamburger-1"}),(0,s._)("g",{id:"hamburger-2"}),(0,s._)("g",{id:"list-ol"}),(0,s._)("g",{id:"list-task"}),(0,s._)("g",{id:"trash"}),(0,s._)("g",{id:"vertical-menu"}),(0,s._)("g",{id:"horizontal-menu"}),(0,s._)("g",{id:"sidebar-2"}),(0,s._)("g",{id:"Pen"}),(0,s._)("g",{id:"Pen1","serif:id":"Pen"}),(0,s._)("g",{id:"clock"}),(0,s._)("g",{id:"external-link"}),(0,s._)("g",{id:"hr"}),(0,s._)("g",{id:"info"}),(0,s._)("g",{id:"warning"}),(0,s._)("g",{id:"plus-circle"}),(0,s._)("g",{id:"minus-circle"}),(0,s._)("g",{id:"vue"}),(0,s._)("g",{id:"cog"}),(0,s._)("g",{id:"logo"}),(0,s._)("path",{id:"star",d:"M32.001,9.188l5.666,17.438l18.335,0l-14.833,10.777l5.666,17.438l-14.834,-10.777l-14.833,10.777l5.666,-17.438l-14.834,-10.777l18.335,0l5.666,-17.438Z"}),(0,s._)("g",{id:"radio-check"}),(0,s._)("g",{id:"eye-slash"}),(0,s._)("g",{id:"eye"}),(0,s._)("g",{id:"toggle-off"}),(0,s._)("g",{id:"shredder"}),(0,s._)("g",{id:"spinner--loading--dots-","serif:id":"spinner [loading, dots]"}),(0,s._)("g",{id:"react"}),(0,s._)("g",{id:"check-selected"}),(0,s._)("g",{id:"turn-off"}),(0,s._)("g",{id:"code-block"}),(0,s._)("g",{id:"user"}),(0,s._)("g",{id:"coffee-bean"}),(0,s._)("g",{id:"coffee-beans"},[(0,s._)("g",{id:"coffee-bean1","serif:id":"coffee-bean"})]),(0,s._)("g",{id:"coffee-bean-filled"}),(0,s._)("g",{id:"coffee-beans-filled"},[(0,s._)("g",{id:"coffee-bean2","serif:id":"coffee-bean"})]),(0,s._)("g",{id:"clipboard"}),(0,s._)("g",{id:"clipboard-paste"}),(0,s._)("g",{id:"clipboard-copy"}),(0,s._)("g",{id:"Layer1"})])],-1))),h=[m,g,u],f={class:"score"},_={class:"synopsis"},p={class:"episodes"};function v(e,i,a,n,m,g){const u=(0,s.up)("router-link"),v=(0,s.up)("v-btn");return(0,s.wg)(),(0,s.iD)("div",r,[(0,s._)("img",{src:e.anime.images.jpg.large_image_url,alt:""},null,8,l),(0,s._)("div",o,[(0,s.Wm)(u,{to:{name:"anime",params:{id:e.anime.mal_id}}},{default:(0,s.w5)((()=>[(0,s._)("h1",null,(0,t.zw)(e.anime.title),1)])),_:1},8,["to"]),(0,s._)("div",d,[((0,s.wg)(),(0,s.iD)("svg",c,h)),(0,s._)("span",f,(0,t.zw)(e.anime.score),1)]),(0,s._)("p",_,(0,t.zw)(e.anime.synopsis),1),(0,s._)("span",p,"Episodes: "+(0,t.zw)(e.anime.episodes),1),e.isAnimeInFavorite?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(v,{key:0,color:"#9142b9",disabled:e.isAnimeInFavorite,onClick:i[0]||(i[0]=i=>e.addAnimeToFavorites())},{default:(0,s.w5)((()=>[(0,s.Uk)(" Add to favorites ")])),_:1},8,["disabled"])),e.isAnimeInFavorite?((0,s.wg)(),(0,s.j4)(v,{key:1,color:"red",disabled:!e.isAnimeInFavorite,onClick:i[1]||(i[1]=i=>e.deleteAnimeFromFavorites())},{default:(0,s.w5)((()=>[(0,s.Uk)(" Delete from favorites ")])),_:1},8,["disabled"])):(0,s.kq)("",!0)])])}var k=a(4161),w=a(65),b=(0,s.aZ)({props:["anime"],name:"AnimeCard",data(){return{isAnimeInFavorite:!1}},created(){this.checkAnimeInFavorite()},computed:{...(0,w.Se)(["userFavoriteAnimes","currentUser"])},methods:{...(0,w.OI)(["setUserAnimes"]),async addAnimeToFavorites(){try{const e=await k.Z.post("http://localhost:5000/users/anime",{userId:this.currentUser.id,animeId:this.anime.mal_id,title:this.anime.title},{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});this.setUserAnimes(e.data),this.checkAnimeInFavorite()}catch(e){console.log(e.response)}},async deleteAnimeFromFavorites(){try{const e=await k.Z.delete(`http://localhost:5000/users/anime/${this.anime.mal_id}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});this.setUserAnimes(e.data),this.checkAnimeInFavorite()}catch(e){console.log(e.response)}},checkAnimeInFavorite(){if(this.userFavoriteAnimes){let e=this.userFavoriteAnimes.find((e=>e.id===this.anime.mal_id));this.isAnimeInFavorite=!!e}}}}),A=a(89);const y=(0,A.Z)(b,[["render",v],["__scopeId","data-v-a4634156"]]);var I=y},2521:function(e,i,a){a.r(i),a.d(i,{default:function(){return f}});var s=a(3396),t=a(9242);const n={class:"text-center"},r={key:1,class:"animeList"},l={key:2},o={class:"text-center"};function d(e,i,a,d,c,m){const g=(0,s.up)("v-text-field"),u=(0,s.up)("v-autocomplete"),h=(0,s.up)("v-btn"),f=(0,s.up)("v-form"),_=(0,s.up)("v-sheet"),p=(0,s.up)("v-pagination"),v=(0,s.up)("v-progress-circular"),k=(0,s.up)("AnimeCard");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(_,{width:"600",class:"mx-auto bg-black"},{default:(0,s.w5)((()=>[(0,s.Wm)(f,{ref:"form",onSubmit:i[2]||(i[2]=(0,t.iM)((i=>e.fetchAnimes({s:e.searchParams,f:1})),["prevent"])),class:"d-block"},{default:(0,s.w5)((()=>[(0,s.Wm)(g,{"model-value":e.searchParams.searchQuery,"onUpdate:modelValue":i[0]||(i[0]=i=>e.setSearchQuery(e.searchParams.searchQuery=i)),label:"Search..."},null,8,["model-value"]),(0,s.Wm)(u,{clearable:"",label:"Types","model-value":e.searchParams.selectedType,"onUpdate:modelValue":i[1]||(i[1]=i=>e.setSelectedType(e.searchParams.selectedType=i)),items:e.animeTypes},null,8,["model-value","items"]),(0,s.Wm)(h,{type:"submit",color:"#9142b9",class:"d-block mx-auto"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Search ")])),_:1})])),_:1},512)])),_:1}),(0,s._)("div",n,[(0,s.Wm)(p,{"model-value":e.searchParams.page,"onUpdate:modelValue":i[3]||(i[3]=i=>e.setPage(e.searchParams.page=i)),length:e.totalAnimePages,"total-visible":7,"prev-icon":"mdi-menu-left","next-icon":"mdi-menu-right",onClick:i[4]||(i[4]=i=>e.fetchAnimes({s:e.searchParams,f:0}))},null,8,["model-value","length"])]),e.isLoading?((0,s.wg)(),(0,s.j4)(v,{key:0,indeterminate:""})):(0,s.kq)("",!0),e.isResult?((0,s.wg)(),(0,s.iD)("div",r,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.allAnimes,(e=>((0,s.wg)(),(0,s.j4)(k,{key:e.mal_id,anime:e},null,8,["anime"])))),128))])):(0,s.kq)("",!0),e.isResult?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("h2",l," No results found ")),(0,s._)("div",o,[(0,s.Wm)(p,{"model-value":e.searchParams.page,"onUpdate:modelValue":i[5]||(i[5]=i=>e.setPage(e.searchParams.page=i)),length:e.totalAnimePages,"total-visible":7,"prev-icon":"mdi-menu-left","next-icon":"mdi-menu-right",onClick:i[6]||(i[6]=i=>{e.fetchAnimes({s:e.searchParams,f:0}),e.toTop()})},null,8,["model-value","length"])])],64)}var c=a(8054),m=a(65),g=(0,s.aZ)({name:"AnimesView",components:{AnimeCard:c.Z},computed:(0,m.Se)(["allAnimes","animeTypes","totalAnimePages","isLoading","isResult","searchParams"]),methods:{...(0,m.OI)(["setSelectedType","setSearchQuery","setLimit","setPage"]),...(0,m.nv)(["fetchAnimes"]),toTop(){window.scrollTo({top:0,behavior:"smooth"})}},async created(){this.fetchAnimes({s:{limit:15,page:1},f:2})}}),u=a(89);const h=(0,u.Z)(g,[["render",d],["__scopeId","data-v-eca4dfe0"]]);var f=h}}]);
//# sourceMappingURL=521.a91b5128.js.map