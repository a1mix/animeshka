"use strict";(self["webpackChunkanistream"]=self["webpackChunkanistream"]||[]).push([[308],{308:function(e,t,r){r.r(t),r.d(t,{default:function(){return ue}});var a=r(3396),n=r(9242);const o={style:{height:"100vh"}},s=(0,a._)("span",null,"Don't have any account? ",-1);function l(e,t,r,l,i,u){const c=(0,a.up)("v-text-field"),$=(0,a.up)("router-link"),d=(0,a.up)("v-btn"),v=(0,a.up)("v-form"),p=(0,a.up)("v-sheet");return(0,a.wg)(),(0,a.iD)("div",o,[(0,a.Wm)(p,{width:"400",class:"mx-auto bg-black"},{default:(0,a.w5)((()=>[(0,a.Wm)(v,{"fast-fail":"",onSubmit:(0,n.iM)(e.login,["prevent"])},{default:(0,a.w5)((()=>[(0,a.Wm)(c,{modelValue:e.email,"onUpdate:modelValue":t[0]||(t[0]=t=>e.email=t),"error-messages":e.v$.email.$errors.map((e=>e.$message)),label:"Email",required:"",onInput:e.v$.email.$touch,onBlur:e.v$.email.$touch},null,8,["modelValue","error-messages","onInput","onBlur"]),(0,a.Wm)(c,{modelValue:e.password,"onUpdate:modelValue":t[1]||(t[1]=t=>e.password=t),"error-messages":e.v$.password.$errors.map((e=>e.$message)),label:"Password",required:"",onInput:e.v$.password.$touch,onBlur:e.v$.password.$touch},null,8,["modelValue","error-messages","onInput","onBlur"]),s,(0,a.Wm)($,{to:"/registration"},{default:(0,a.w5)((()=>[(0,a.Uk)(" Register")])),_:1}),(0,a.Wm)(d,{type:"submit",block:"",class:"mt-2",color:"#9142b9"},{default:(0,a.w5)((()=>[(0,a.Uk)("Log in")])),_:1})])),_:1},8,["onSubmit"])])),_:1})])}r(7658);var i=r(4161),u=r(65),c=r(4870);function $(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$(Object(r),!0).forEach((function(t){v(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function v(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Object.keys(e).reduce(((r,a)=>(t.includes(a)||(r[a]=(0,c.SU)(e[a])),r)),{})}function f(e){return"function"===typeof e}function m(e){return(0,c.PG)(e)||(0,c.$y)(e)}function h(e,t,r){let a=e;const n=t.split(".");for(let o=0;o<n.length;o++){if(!a[n[o]])return r;a=a[n[o]]}return a}function g(e,t,r){return(0,a.Fl)((()=>e.some((e=>h(t,e,{[r]:!1})[r]))))}function y(e,t,r){return(0,a.Fl)((()=>e.reduce(((e,a)=>{const n=h(t,a,{[r]:!1})[r]||[];return e.concat(n)}),[])))}function b(e,t,r,a){return e.call(a,(0,c.SU)(t),(0,c.SU)(r),a)}function w(e){return void 0!==e.$valid?!e.$valid:!e}function O(e,t,r,n,o,s,l){let{$lazy:i,$rewardEarly:u}=o,$=arguments.length>7&&void 0!==arguments[7]?arguments[7]:[],d=arguments.length>8?arguments[8]:void 0,v=arguments.length>9?arguments[9]:void 0,p=arguments.length>10?arguments[10]:void 0;const f=(0,c.iH)(!!n.value),m=(0,c.iH)(0);r.value=!1;const h=(0,a.YP)([t,n].concat($,p),(()=>{if(i&&!n.value||u&&!v.value&&!r.value)return;let a;try{a=b(e,t,d,l)}catch(o){a=Promise.reject(o)}m.value++,r.value=!!m.value,f.value=!1,Promise.resolve(a).then((e=>{m.value--,r.value=!!m.value,s.value=e,f.value=w(e)})).catch((e=>{m.value--,r.value=!!m.value,s.value=e,f.value=!0}))}),{immediate:!0,deep:"object"===typeof t});return{$invalid:f,$unwatch:h}}function j(e,t,r,n,o,s,l,i){let{$lazy:u,$rewardEarly:c}=n;const $=()=>({}),d=(0,a.Fl)((()=>{if(u&&!r.value||c&&!i.value)return!1;let a=!0;try{const r=b(e,t,l,s);o.value=r,a=w(r)}catch(n){o.value=n}return a}));return{$unwatch:$,$invalid:d}}function x(e,t,r,n,o,s,l,i,u,$,d){const v=(0,c.iH)(!1),m=e.$params||{},h=(0,c.iH)(null);let g,y;e.$async?({$invalid:g,$unwatch:y}=O(e.$validator,t,v,r,n,h,o,e.$watchTargets,u,$,d)):({$invalid:g,$unwatch:y}=j(e.$validator,t,r,n,h,o,u,$));const b=e.$message,w=f(b)?(0,a.Fl)((()=>b(p({$pending:v,$invalid:g,$params:p(m),$model:t,$response:h,$validator:s,$propertyPath:i,$property:l})))):b||"";return{$message:w,$params:m,$pending:v,$invalid:g,$response:h,$unwatch:y}}function S(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=(0,c.SU)(e),r=Object.keys(t),a={},n={},o={};let s=null;return r.forEach((e=>{const r=t[e];switch(!0){case f(r.$validator):a[e]=r;break;case f(r):a[e]={$validator:r};break;case"$validationGroups"===e:s=r;break;case e.startsWith("$"):o[e]=r;break;default:n[e]=r}})),{rules:a,nestedValidators:n,config:o,validationGroups:s}}const E="__root";function P(e,t,r,n,o,s,l,i,u){const $=Object.keys(e),d=n.get(o,e),v=(0,c.iH)(!1),p=(0,c.iH)(!1),f=(0,c.iH)(0);if(d){if(!d.$partial)return d;d.$unwatch(),v.value=d.$dirty.value}const m={$dirty:v,$path:o,$touch:()=>{v.value||(v.value=!0)},$reset:()=>{v.value&&(v.value=!1)},$commit:()=>{}};return $.length?($.forEach((a=>{m[a]=x(e[a],t,m.$dirty,s,l,a,r,o,u,p,f)})),m.$externalResults=(0,a.Fl)((()=>i.value?[].concat(i.value).map(((e,t)=>({$propertyPath:o,$property:r,$validator:"$externalResults",$uid:`${o}-externalResult-${t}`,$message:e,$params:{},$response:null,$pending:!1}))):[])),m.$invalid=(0,a.Fl)((()=>{const e=$.some((e=>(0,c.SU)(m[e].$invalid)));return p.value=e,!!m.$externalResults.value.length||e})),m.$pending=(0,a.Fl)((()=>$.some((e=>(0,c.SU)(m[e].$pending))))),m.$error=(0,a.Fl)((()=>!!m.$dirty.value&&(m.$pending.value||m.$invalid.value))),m.$silentErrors=(0,a.Fl)((()=>$.filter((e=>(0,c.SU)(m[e].$invalid))).map((e=>{const t=m[e];return(0,c.qj)({$propertyPath:o,$property:r,$validator:e,$uid:`${o}-${e}`,$message:t.$message,$params:t.$params,$response:t.$response,$pending:t.$pending})})).concat(m.$externalResults.value))),m.$errors=(0,a.Fl)((()=>m.$dirty.value?m.$silentErrors.value:[])),m.$unwatch=()=>$.forEach((e=>{m[e].$unwatch()})),m.$commit=()=>{p.value=!0,f.value=Date.now()},n.set(o,e,m),m):(d&&n.set(o,e,m),m)}function U(e,t,r,a,n,o,s){const l=Object.keys(e);return l.length?l.reduce(((l,i)=>(l[i]=F({validations:e[i],state:t,key:i,parentKey:r,resultsCache:a,globalConfig:n,instance:o,externalResults:s}),l)),{}):{}}function k(e,t,r){const n=(0,a.Fl)((()=>[t,r].filter((e=>e)).reduce(((e,t)=>e.concat(Object.values((0,c.SU)(t)))),[]))),o=(0,a.Fl)({get(){return e.$dirty.value||!!n.value.length&&n.value.every((e=>e.$dirty))},set(t){e.$dirty.value=t}}),s=(0,a.Fl)((()=>{const t=(0,c.SU)(e.$silentErrors)||[],r=n.value.filter((e=>((0,c.SU)(e).$silentErrors||[]).length)).reduce(((e,t)=>e.concat(...t.$silentErrors)),[]);return t.concat(r)})),l=(0,a.Fl)((()=>{const t=(0,c.SU)(e.$errors)||[],r=n.value.filter((e=>((0,c.SU)(e).$errors||[]).length)).reduce(((e,t)=>e.concat(...t.$errors)),[]);return t.concat(r)})),i=(0,a.Fl)((()=>n.value.some((e=>e.$invalid))||(0,c.SU)(e.$invalid)||!1)),u=(0,a.Fl)((()=>n.value.some((e=>(0,c.SU)(e.$pending)))||(0,c.SU)(e.$pending)||!1)),$=(0,a.Fl)((()=>n.value.some((e=>e.$dirty))||n.value.some((e=>e.$anyDirty))||o.value)),d=(0,a.Fl)((()=>!!o.value&&(u.value||i.value))),v=()=>{e.$touch(),n.value.forEach((e=>{e.$touch()}))},p=()=>{e.$commit(),n.value.forEach((e=>{e.$commit()}))},f=()=>{e.$reset(),n.value.forEach((e=>{e.$reset()}))};return n.value.length&&n.value.every((e=>e.$dirty))&&v(),{$dirty:o,$errors:l,$invalid:i,$anyDirty:$,$error:d,$pending:u,$touch:v,$reset:f,$silentErrors:s,$commit:p}}function F(e){let{validations:t,state:r,key:n,parentKey:o,childResults:s,resultsCache:l,globalConfig:i={},instance:u,externalResults:$}=e;const v=o?`${o}.${n}`:n,{rules:p,nestedValidators:f,config:m,validationGroups:h}=S(t),b=d(d({},i),m),w=n?(0,a.Fl)((()=>{const e=(0,c.SU)(r);return e?(0,c.SU)(e[n]):void 0})):r,O=d({},(0,c.SU)($)||{}),j=(0,a.Fl)((()=>{const e=(0,c.SU)($);return n?e?(0,c.SU)(e[n]):void 0:e})),x=P(p,w,n,l,v,b,u,j,r),F=U(f,w,v,l,b,u,j),R={};h&&Object.entries(h).forEach((e=>{let[t,r]=e;R[t]={$invalid:g(r,F,"$invalid"),$error:g(r,F,"$error"),$pending:g(r,F,"$pending"),$errors:y(r,F,"$errors"),$silentErrors:y(r,F,"$silentErrors")}}));const{$dirty:_,$errors:C,$invalid:A,$anyDirty:L,$error:V,$pending:I,$touch:z,$reset:D,$silentErrors:q,$commit:H}=k(x,F,s),T=n?(0,a.Fl)({get:()=>(0,c.SU)(w),set:e=>{_.value=!0;const t=(0,c.SU)(r),a=(0,c.SU)($);a&&(a[n]=O[n]),(0,c.dq)(t[n])?t[n].value=e:t[n]=e}}):null;async function N(){return z(),b.$rewardEarly&&(H(),await(0,a.Y3)()),await(0,a.Y3)(),new Promise((e=>{if(!I.value)return e(!A.value);const t=(0,a.YP)(I,(()=>{e(!A.value),t()}))}))}function W(e){return(s.value||{})[e]}function Y(){(0,c.dq)($)?$.value=O:0===Object.keys(O).length?Object.keys($).forEach((e=>{delete $[e]})):Object.assign($,O)}return n&&b.$autoDirty&&(0,a.YP)(w,(()=>{_.value||z();const e=(0,c.SU)($);e&&(e[n]=O[n])}),{flush:"sync"}),(0,c.qj)(d(d(d({},x),{},{$model:T,$dirty:_,$error:V,$errors:C,$invalid:A,$anyDirty:L,$pending:I,$touch:z,$reset:D,$path:v||E,$silentErrors:q,$validate:N,$commit:H},s&&{$getResultsForChild:W,$clearExternalResults:Y,$validationGroups:R}),F))}class R{constructor(){this.storage=new Map}set(e,t,r){this.storage.set(e,{rules:t,result:r})}checkRulesValidity(e,t,r){const a=Object.keys(r),n=Object.keys(t);if(n.length!==a.length)return!1;const o=n.every((e=>a.includes(e)));return!!o&&n.every((e=>!t[e].$params||Object.keys(t[e].$params).every((a=>(0,c.SU)(r[e].$params[a])===(0,c.SU)(t[e].$params[a])))))}get(e,t){const r=this.storage.get(e);if(!r)return;const{rules:a,result:n}=r,o=this.checkRulesValidity(e,t,a),s=n.$unwatch?n.$unwatch:()=>({});return o?n:{$dirty:n.$dirty,$partial:!0,$unwatch:s}}}const _={COLLECT_ALL:!0,COLLECT_NONE:!1},C=Symbol("vuelidate#injectChildResults"),A=Symbol("vuelidate#removeChildResults");function L(e){let{$scope:t,instance:r}=e;const n={},o=(0,c.iH)([]),s=(0,a.Fl)((()=>o.value.reduce(((e,t)=>(e[t]=(0,c.SU)(n[t]),e)),{})));function l(e,r){let{$registerAs:a,$scope:s,$stopPropagation:l}=r;l||t===_.COLLECT_NONE||s===_.COLLECT_NONE||t!==_.COLLECT_ALL&&t!==s||(n[a]=e,o.value.push(a))}function i(e){o.value=o.value.filter((t=>t!==e)),delete n[e]}r.__vuelidateInjectInstances=[].concat(r.__vuelidateInjectInstances||[],l),r.__vuelidateRemoveInstances=[].concat(r.__vuelidateRemoveInstances||[],i);const u=(0,a.f3)(C,[]);(0,a.JJ)(C,r.__vuelidateInjectInstances);const $=(0,a.f3)(A,[]);return(0,a.JJ)(A,r.__vuelidateRemoveInstances),{childResults:s,sendValidationResultsToParent:u,removeValidationResultsFromParent:$}}function V(e){return new Proxy(e,{get(e,t){return"object"===typeof e[t]?V(e[t]):(0,a.Fl)((()=>e[t]))}})}let I=0;function z(e,t){var r;let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};1===arguments.length&&(n=e,e=void 0,t=void 0);let{$registerAs:o,$scope:s=_.COLLECT_ALL,$stopPropagation:l,$externalResults:i,currentVueInstance:u}=n;const $=u||(null===(r=(0,a.FN)())||void 0===r?void 0:r.proxy),v=$?$.$options:{};o||(I+=1,o=`_vuelidate_${I}`);const p=(0,c.iH)({}),h=new R,{childResults:g,sendValidationResultsToParent:y,removeValidationResultsFromParent:b}=$?L({$scope:s,instance:$}):{childResults:(0,c.iH)({})};if(!e&&v.validations){const e=v.validations;t=(0,c.iH)({}),(0,a.wF)((()=>{t.value=$,(0,a.YP)((()=>f(e)?e.call(t.value,new V(t.value)):e),(e=>{p.value=F({validations:e,state:t,childResults:g,resultsCache:h,globalConfig:n,instance:$,externalResults:i||$.vuelidateExternalResults})}),{immediate:!0})})),n=v.validationsConfig||n}else{const r=(0,c.dq)(e)||m(e)?e:(0,c.qj)(e||{});(0,a.YP)(r,(e=>{p.value=F({validations:e,state:t,childResults:g,resultsCache:h,globalConfig:n,instance:null!==$&&void 0!==$?$:{},externalResults:i})}),{immediate:!0})}return $&&(y.forEach((e=>e(p,{$registerAs:o,$scope:s,$stopPropagation:l}))),(0,a.Jd)((()=>b.forEach((e=>e(o)))))),(0,a.Fl)((()=>d(d({},(0,c.SU)(p.value)),g.value)))}function D(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function q(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?D(Object(r),!0).forEach((function(t){H(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function H(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function T(e){return"function"===typeof e}function N(e){return null!==e&&"object"===typeof e&&!Array.isArray(e)}function W(e){return T(e.$validator)?q({},e):{$validator:e}}function Y(e){return"object"===typeof e?e.$valid:e}function G(e){return e.$validator||e}function J(e,t){if(!N(e))throw new Error('[@vuelidate/validators]: First parameter to "withParams" should be an object, provided '+typeof e);if(!N(t)&&!T(t))throw new Error("[@vuelidate/validators]: Validator must be a function or object with $validator parameter");const r=W(t);return r.$params=q(q({},r.$params||{}),e),r}function Z(e,t){if(!T(e)&&"string"!==typeof(0,c.SU)(e))throw new Error('[@vuelidate/validators]: First parameter to "withMessage" should be string or a function returning a string, provided '+typeof e);if(!N(t)&&!T(t))throw new Error("[@vuelidate/validators]: Validator must be a function or object with $validator parameter");const r=W(t);return r.$message=e,r}function B(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const r=W(e);return q(q({},r),{},{$async:!0,$watchTargets:t})}function M(e){return{$validator(t){for(var r=arguments.length,a=new Array(r>1?r-1:0),n=1;n<r;n++)a[n-1]=arguments[n];return(0,c.SU)(t).reduce(((t,r,n)=>{const o=Object.entries(r).reduce(((t,o)=>{let[s,l]=o;const i=e[s]||{},u=Object.entries(i).reduce(((e,t)=>{let[o,i]=t;const u=G(i),c=u.call(this,l,r,n,...a),$=Y(c);if(e.$data[o]=c,e.$data.$invalid=!$||!!e.$data.$invalid,e.$data.$error=e.$data.$invalid,!$){let t=i.$message||"";const r=i.$params||{};"function"===typeof t&&(t=t({$pending:!1,$invalid:!$,$params:r,$model:l,$response:c})),e.$errors.push({$property:s,$message:t,$params:r,$response:c,$model:l,$pending:!1,$validator:o})}return{$valid:e.$valid&&$,$data:e.$data,$errors:e.$errors}}),{$valid:!0,$data:{},$errors:[]});return t.$data[s]=u.$data,t.$errors[s]=u.$errors,{$valid:t.$valid&&u.$valid,$data:t.$data,$errors:t.$errors}}),{$valid:!0,$data:{},$errors:{}});return{$valid:t.$valid&&o.$valid,$data:t.$data.concat(o.$data),$errors:t.$errors.concat(o.$errors)}}),{$valid:!0,$data:[],$errors:[]})},$message:e=>{let{$response:t}=e;return t?t.$errors.map((e=>Object.values(e).map((e=>e.map((e=>e.$message)))).reduce(((e,t)=>e.concat(t)),[]))):[]}}}const K=e=>{if(e=(0,c.SU)(e),Array.isArray(e))return!!e.length;if(void 0===e||null===e)return!1;if(!1===e)return!0;if(e instanceof Date)return!isNaN(e.getTime());if("object"===typeof e){for(let t in e)return!0;return!1}return!!String(e).length},Q=e=>(e=(0,c.SU)(e),Array.isArray(e)?e.length:"object"===typeof e?Object.keys(e).length:String(e).length);function X(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return e=>(e=(0,c.SU)(e),!K(e)||t.every((t=>(t.lastIndex=0,t.test(e)))))}c.SU,X(/^[a-zA-Z]*$/),X(/^[a-zA-Z0-9]*$/),X(/^\d*(\.\d+)?$/);const ee=/^(?:[A-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[A-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9]{2,}(?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])$/i;var te=X(ee),re={$validator:te,$message:"Value is not a valid email address",$params:{type:"email"}};function ae(e){return"string"===typeof e&&(e=e.trim()),K(e)}var ne={$validator:ae,$message:"Value is required",$params:{type:"required"}};const oe=/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u00a1-\uffff][a-z0-9\u00a1-\uffff_-]{0,62})?[a-z0-9\u00a1-\uffff]\.)+(?:[a-z\u00a1-\uffff]{2,}\.?))(?::\d{2,5})?(?:[/?#]\S*)?$/i;X(oe);X(/(^[0-9]*$)|(^-[0-9]+$)/),X(/^[-]?\d*(\.\d+)?$/);var se=(0,a.aZ)({setup(){return{v$:z()}},name:"LoginView",data(){return{password:"",email:""}},validations(){return{email:{required:ne,email:re},password:{required:ne}}},methods:{...(0,u.OI)(["setUser","updateIsAuth"]),async login(){try{const e=await i.Z.post("http://localhost:5000/auth/login",{password:this.password,email:this.email});console.log(e),this.updateIsAuth(!0),this.setUser({id:e.data.payload.id,email:e.data.payload.email,roles:e.data.payload.roles,animes:e.data.payload.animes}),localStorage.setItem("token",e.data.token.token),this.$router.push({path:"user/account"})}catch(e){alert(e.response.data.message)}}}}),le=r(89);const ie=(0,le.Z)(se,[["render",l]]);var ue=ie}}]);
//# sourceMappingURL=308.9846718c.js.map